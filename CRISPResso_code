#!bin/bash

# -- code for running CRISPRessoBatch against input_file generated by inputFile_generator.py -- #

# generating input file from fastq data
module load Python/3.8.6-GCCcore-10.2.0
python3 inputFile_generator.py

# moving input_file to data folder
#mv input_file /homes/users/ljorquera/scratch/data/Miseq_optimization

# load CRISPResso singularity and add settings for run 
singularity run /scratch/lab_mguell/shared_data/CRISPResso2/crispresso2.sif CRISPRessoBatch --batch_settings input_file --amplicon_seq CGGAGGACAAAGTACAAACGGCAGAAGCTGGAGGAGGAAGGGCCTGAGTCCGAGCAGAAGAAGAAGGGCTCCCATCACATCAACCGGTGGCGCATTGCCACGAAGCAGGCCAATGGGGAGGACATCGATGTCACCTCCAATGACTAGGGTGGGCAACCACAAACCCACGAGGGCAGAGTGCTGCTTGCTGCTGGCCAGGCCCCTGCGTGGGCCCAAGCTGGACTCTGGCCACT --prime_editing_pegRNA_spacer_seq GAGTCCGAGCAGAAGAAGAA --prime_editing_pegRNA_extension_seq ATGGGAGCACTTCTTCTTCTGCTCGG --prime_editing_pegRNA_scaffold_seq GTTTTAGAGCTAGAAATAGCAAGTTAAAATAAGGCTAGTCCGTTATCAACTTGAAAAAGTGGGACCGAGTCGGTCC -bo /homes/users/ljorquera/scratch/data/Miseq_optimization 
